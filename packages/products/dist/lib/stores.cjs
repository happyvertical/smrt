"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("./runtime-D5MlcEbP.cjs"),a=[{id:"1",name:"Demo Product",description:"A sample product for demonstration",category:"Electronics",manufacturer:"Demo Corp",model:"DM-100",price:29.99,inStock:!0,specifications:{weight:"1.2kg",color:"Black"},tags:["demo","sample"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Budget Item",description:"An affordable option",category:"Accessories",manufacturer:"Budget Inc",model:"BI-200",price:19.99,inStock:!1,specifications:{size:"small"},tags:["budget","affordable"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];class n{products={async list(){return await new Promise(t=>setTimeout(t,500)),{data:[...a],success:!0,message:"Products retrieved successfully"}},async get(t){await new Promise(r=>setTimeout(r,200));const e=a.find(r=>r.id===t);if(!e)throw new Error(`Product with id ${t} not found`);return{data:e,success:!0,message:"Product retrieved successfully"}},async create(t){await new Promise(r=>setTimeout(r,300));const e={id:(a.length+1).toString(),name:t.name||"Untitled Product",description:t.description||"",category:t.category||"Uncategorized",manufacturer:t.manufacturer||"",model:t.model||"",price:t.price||0,inStock:t.inStock??!0,specifications:t.specifications||{},tags:t.tags||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return a.push(e),{data:e,success:!0,message:"Product created successfully"}},async update(t,e){await new Promise(i=>setTimeout(i,300));const r=a.findIndex(i=>i.id===t);if(r===-1)throw new Error(`Product with id ${t} not found`);const s={...a[r],...e,updatedAt:new Date().toISOString()};return a[r]=s,{data:s,success:!0,message:"Product updated successfully"}},async delete(t){await new Promise(r=>setTimeout(r,200));const e=a.findIndex(r=>r.id===t);if(e===-1)throw new Error(`Product with id ${t} not found`);return a.splice(e,1),{data:void 0,success:!0,message:"Product deleted successfully"}}};categories={async list(){return await new Promise(e=>setTimeout(e,200)),{data:Array.from(new Set(a.map(e=>e.category).filter(Boolean))),success:!0,message:"Categories retrieved successfully"}}}}function u(d="/api/v1"){return new n}class c{#t=o.state(o.proxy({items:[],loading:!1,error:null,selectedProduct:null}));get data(){return o.get(this.#t)}set data(t){o.set(this.#t,t,!0)}api=u("/api/v1");get items(){return this.data.items}get loading(){return this.data.loading}get error(){return this.data.error}get selectedProduct(){return this.data.selectedProduct}get inStockCount(){return this.data.items.filter(t=>t.inStock).length}get totalValue(){return this.data.items.reduce((t,e)=>t+(e.price||0),0)}get categories(){const t=new Set(this.data.items.map(e=>e.category).filter(Boolean));return Array.from(t)}async loadProducts(){this.data.loading=!0,this.data.error=null;try{const t=await this.api.products.list();t.data&&(this.data.items=t.data)}catch(t){this.data.error=t instanceof Error?t.message:"Failed to load products"}finally{this.data.loading=!1}}async createProduct(t){this.data.loading=!0,this.data.error=null;try{const e=await this.api.products.create(t);return e.data&&this.data.items.push(e.data),e}catch(e){throw this.data.error=e instanceof Error?e.message:"Failed to create product",e}finally{this.data.loading=!1}}async updateProduct(t,e){this.data.loading=!0,this.data.error=null;try{const r=await this.api.products.update(t,e);if(r.data){const s=this.data.items.findIndex(i=>i.id===t);s!==-1&&(this.data.items[s]=r.data),this.data.selectedProduct?.id===t&&(this.data.selectedProduct=r.data)}return r}catch(r){throw this.data.error=r instanceof Error?r.message:"Failed to update product",r}finally{this.data.loading=!1}}async deleteProduct(t){this.data.loading=!0,this.data.error=null;try{await this.api.products.delete(t),this.data.items=this.data.items.filter(e=>e.id!==t),this.data.selectedProduct?.id===t&&(this.data.selectedProduct=null)}catch(e){throw this.data.error=e instanceof Error?e.message:"Failed to delete product",e}finally{this.data.loading=!1}}selectProduct(t){this.data.selectedProduct=t}clearError(){this.data.error=null}filterByCategory(t){return this.data.items.filter(e=>e.category===t)}filterInStock(){return this.data.items.filter(t=>t.inStock)}searchProducts(t){const e=t.toLowerCase();return this.data.items.filter(r=>r.name?.toLowerCase().includes(e)||r.description?.toLowerCase().includes(e)||r.tags?.some(s=>s.toLowerCase().includes(e)))}}const l=new c;exports.ProductStoreClass=c;exports.productStore=l;
